--- 
title: "RCFile: Solve Storage Challenge"
type: post
layout: post
tags: 
- HDFS
- RCFile
---
<p>2011-07-19 4:00—5:00</p>  <p>解决<<a href="http://u.ownlinux.net/nourl/2011/maximizing-network-and-storage.html" target="_blank">Maximizing network and storage performance</a>>中提到的两个挑战</p>  <p><strong>Solution to challenge1</strong></p>  <p><strong>+解决第一个challenge</strong></p>  <blockquote>   <p><strong>RCFile: </strong>a fast and space-efficient placement structure</p>    <p>  ..re-examination of existing structures</p>    <p>  ..a math model</p>    <p>  ..experiment results</p>    <p>++ Row-Store Merits/Limits with MR</p>    <blockquote>     <p>. data loading is fast</p>      <p>. all column of a row stored in one block in HDFS</p>      <p>特点：</p>      <p>1. 基本没有多余的network cost</p>      <p>2. 会读取多余的column</p>   </blockquote>    <p>++ Column-Store Merits/Limits with MR</p>    <blockquote>     <p>. easy compression</p>      <p>. unnecessary IO can be avoided</p>      <p>. additional network cost column grouping </p>      <p>特点：</p>      <p>1. 只读取有效的列</p>      <p>2. 会有unnecessary IO cost</p>   </blockquote>    <p>++ Optimization of data placement structure</p>    <blockquote>     <p>. dynamic workload(W)</p>      <p>. suitable data compression algorithm(S)</p>      <p>. D structure</p>      <p>. </p>   </blockquote>    <p>++ Expected Value vased statistical model</p>    <blockquote>     <p>. expected value of an an random variable</p>      <p>  .. P(read) >> P(write): E(read)</p>   </blockquote>    <p><strong>Goal and Step of RCFile:</strong></p>    <p><strong>特点</strong>：重点关注读，写一次，读多次，不考虑删除、修改操作。</p>    <p>步骤：</p>    <p>1. 划分row group，大小<= HDFS block size = 128M</p>    <p>2. 将row group存入node</p>    <p>3. 在metadata里对row group按列划分、压缩、存入</p>    <p>//完全perfect的系统是不存在的。</p>    <p>**<strong>Larger than HDFS block size?</strong></p>    <p>+one column of a row group per HDFS block</p>    <p>+co-locate columns of a row group</p>    <p>+can provide fexibility on chaging schema</p>    <p>+<strong>Fault tolerance</strong></p>    <p><strong>**Choosing a right Row-Group Size</strong></p>    <p><strong></strong></p>    <p><strong></strong></p>    <p><strong></strong></p> </blockquote>  <p><strong>//下一篇文章中，会提到如何解决第二个challenge</strong></p>  <p><strong>+解决第二个challenge</strong></p>  <blockquote>   <p><strong>Ysmart</strong>: a high efficient query-to-MR translator</p>    <p>  .. correlations-aware is the key</p>    <p>  .. fundamention</p>    <p>  .. experiment</p></blockquote>
